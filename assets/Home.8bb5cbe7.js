import{_ as b,o as l,a as c,b as r,d as A,P as M,i as B,e as E,f as V,t as O,g as k,h as f,j as u,F as S,k as v,n as h,l as I,m as w,r as C,w as $,c as N}from"./index.9c8ae42c.js";var R="/vue3-md-blog/assets/logo.03d6d6da.png";const L={},T={class:"text-center my-5"},U=r("p",{class:"display-3"}," vue3-md-blog ",-1),H=r("img",{alt:"Vue logo",src:R},null,-1),j=[U,H];function G(e,t){return l(),c("div",T,j)}var F=b(L,[["render",G]]);const X=(e,t=1,a=10,d=10)=>{const o=Math.ceil(e/a);t<1?t=1:t>o&&(t=o);let n,i;if(o<=d)n=1,i=o;else{const g=Math.floor(d/2),m=Math.ceil(d/2)-1;t<=g?(n=1,i=d):t+m>=o?(n=o-d+1,i=o):(n=t-g,i=t+m)}const p=(t-1)*a,_=Math.min(p+a-1,e-1),s=Array.from(Array(i+1-n).keys()).map(g=>n+g);return{totalItems:e,currentPage:t,pageSize:a,totalPages:o,startPage:n,endPage:i,startIndex:p,endIndex:_,pages:s}},{VUE_APP_POSTS_PER_PAGE:D,VUE_APP_MAIN_BG_CSS_COLOR:q,VUE_APP_MAIN_TEXT_CSS_COLOR:z}=w,J=A({components:{PatchMeta:M,BlogHeader:F},props:{section:{type:String,default:""}},setup(e){const t=B("postsIndex",[]),a=E({currentPage:1}),d=V(()=>{const o=e.section?t.filter(({section:P})=>P===e.section):t,{startPage:n,endPage:i,startIndex:p,endIndex:_}=X(o.length,a.currentPage,D),s=a.currentPage-1>=n?a.currentPage-1:0,g=a.currentPage+1<=i?a.currentPage+1:0,m=[s,a.currentPage,g].filter(P=>P>n&&P<i),y=o.slice(p,_+1);return{startPage:n,midPages:m,endPage:i,visiblePosts:y}});return{...O(a),pageStatus:d,VUE_APP_MAIN_BG_CSS_COLOR:q,VUE_APP_MAIN_TEXT_CSS_COLOR:z}}}),K={key:0},Q={key:1,class:"text-center display-4 text-capitalize my-5"},W={class:"text-left m-0 p-0"},Y={class:"m-0 p-0 text-right font-weight-bold"},Z={class:"font-weight-light mt-1"},x={key:2,class:"pagination justify-content-center mb-5 pb-5",style:{cursor:"pointer"}},ee={class:"page-link"},te=["onClick"],se={class:"page-link"},ae={class:"page-link"};function oe(e,t,a,d,o,n){const i=C("PatchMeta"),p=C("BlogHeader"),_=C("router-link");return l(),c(S,null,[k(i,{title:e.section?e.section:"Minimal Vue3 + Markdown blog engine"},null,8,["title"]),r("div",{style:I(`background-color: ${e.VUE_APP_MAIN_BG_CSS_COLOR}; color: ${e.VUE_APP_MAIN_TEXT_CSS_COLOR};`)},[k(p,{class:"mb-5"}),e.section?(l(),c("hr",K)):f("",!0),e.section?(l(),c("p",Q,u(e.section),1)):f("",!0),(l(!0),c(S,null,v(e.pageStatus.visiblePosts,s=>(l(),c("div",{key:s.id,class:"container markdown-body p-3 p-md-4"},[k(_,{to:`/${s.section}/${s.id}`,class:"text-reset"},{default:$(()=>[r("h3",W,u(s.title),1)]),_:2},1032,["to"]),r("p",{class:h(["font-weight-light font-italic m-0 p-0",e.section?"mb-3":"text-right"])},u(s.date),3),e.section?f("",!0):(l(),N(_,{key:0,to:`/${s.section}`,class:"text-reset"},{default:$(()=>[r("h6",Y," #"+u(s.section),1)]),_:2},1032,["to"])),r("p",Z,u(s.description),1)]))),128)),e.pageStatus.endPage>e.pageStatus.startPage?(l(),c("ul",x,[r("li",{class:h(["page-item",e.currentPage==e.pageStatus.startPage?"active":""]),onClick:t[0]||(t[0]=s=>e.currentPage=e.pageStatus.startPage)},[r("a",ee,u(e.pageStatus.startPage),1)],2),(l(!0),c(S,null,v(e.pageStatus.midPages,(s,g)=>(l(),c("li",{key:g,class:h(["page-item",e.currentPage==s?"active":""]),onClick:m=>e.currentPage=s},[r("a",se,u(s),1)],10,te))),128)),r("li",{class:h(["page-item",e.currentPage==e.pageStatus.endPage?"active":""]),onClick:t[1]||(t[1]=s=>e.currentPage=e.pageStatus.endPage)},[r("a",ae,u(e.pageStatus.endPage),1)],2)])):f("",!0)],4)],64)}var ie=b(J,[["render",oe]]);export{ie as default};
