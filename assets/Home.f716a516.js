import{_ as w,o as _,e as u,f as i,d as B,i as E,g as S,h as I,r as N,j as x,k as O,l as p,t as m,F as C,m as y,u as a,n as k,p as j,q as L,w as $,b as R}from"./index.2f8be78b.js";var T="/vue3-md-blog/assets/logo.03d6d6da.png";const U={},F={class:"text-center my-5"},G=i("p",{class:"display-3"}," vue3-md-blog ",-1),H=i("img",{alt:"Vue logo",src:T},null,-1),q=[G,H];function D(o,s){return _(),u("div",F,q)}var X=w(U,[["render",D]]);const z=(o,s=1,f=10,g=10)=>{const c=Math.ceil(o/f);s<1?s=1:s>c&&(s=c);let r,t;if(c<=g)r=1,t=c;else{const l=Math.floor(g/2),e=Math.ceil(g/2)-1;s<=l?(r=1,t=g):s+e>=c?(r=c-g+1,t=c):(r=s-l,t=s+e)}const n=(s-1)*f,h=Math.min(n+f-1,o-1),d=Array.from(Array(t+1-r).keys()).map(l=>r+l);return{totalItems:o,currentPage:s,pageSize:f,totalPages:c,startPage:r,endPage:t,startIndex:n,endIndex:h,pages:d}},J={key:0},K={key:1,class:"text-center display-4 text-capitalize my-5"},Q={class:"text-left m-0 p-0"},W={class:"m-0 p-0 text-right font-weight-bold"},Y={class:"font-weight-light mt-1"},Z={key:2,class:"pagination justify-content-center mb-5 pb-5",style:{cursor:"pointer"}},tt={class:"page-link"},et=["onClick"],st={class:"page-link"},ot={class:"page-link"},at=B({__name:"Home",props:{section:{type:String,default:""}},setup(o){const s=o,{VUE_APP_POSTS_PER_PAGE:f,VUE_APP_MAIN_BG_CSS_COLOR:g,VUE_APP_MAIN_TEXT_CSS_COLOR:c}=L,r=E("postsIndex",[]),t=S(1),n=I(()=>{const h=s.section?r.filter(({section:v})=>v===s.section):r,{startPage:d,endPage:l,startIndex:e,endIndex:P}=z(h.length,t.value,f),b=t.value-1>=d?t.value-1:0,A=t.value+1<=l?t.value+1:0,M=[b,t.value,A].filter(v=>v>d&&v<l),V=h.slice(e,P+1);return{startPage:d,midPages:M,endPage:l,visiblePosts:V}});return(h,d)=>{const l=N("router-link");return _(),u(C,null,[x(O,{title:o.section?o.section:"Minimal Vue3 + Markdown blog engine"},null,8,["title"]),i("div",{style:j(`background-color: ${a(g)}; color: ${a(c)};`)},[x(X,{class:"mb-5"}),o.section?(_(),u("hr",J)):p("",!0),o.section?(_(),u("p",K,m(o.section),1)):p("",!0),(_(!0),u(C,null,y(a(n).visiblePosts,e=>(_(),u("div",{key:e.id,class:"container markdown-body p-3 p-md-4"},[x(l,{to:`/${e.section}/${e.id}`,class:"text-reset"},{default:$(()=>[i("h3",Q,m(e.title),1)]),_:2},1032,["to"]),i("p",{class:k(["font-weight-light font-italic m-0 p-0",o.section?"mb-3":"text-right"])},m(e.date),3),o.section?p("",!0):(_(),R(l,{key:0,to:`/${e.section}`,class:"text-reset"},{default:$(()=>[i("h6",W," #"+m(e.section),1)]),_:2},1032,["to"])),i("p",Y,m(e.description),1)]))),128)),a(n).endPage>a(n).startPage?(_(),u("ul",Z,[i("li",{class:k(["page-item",t.value==a(n).startPage?"active":""]),onClick:d[0]||(d[0]=e=>t.value=a(n).startPage)},[i("a",tt,m(a(n).startPage),1)],2),(_(!0),u(C,null,y(a(n).midPages,(e,P)=>(_(),u("li",{key:P,class:k(["page-item",t.value==e?"active":""]),onClick:b=>t.value=e},[i("a",st,m(e),1)],10,et))),128)),i("li",{class:k(["page-item",t.value==a(n).endPage?"active":""]),onClick:d[1]||(d[1]=e=>t.value=a(n).endPage)},[i("a",ot,m(a(n).endPage),1)],2)])):p("",!0)],4)],64)}}});export{at as default};
